XPathJS=(function(){var s,o,Q,H,x,R,a,j,V,r,P,A=[],k="http://www.w3.org/XML/1998/namespace",q="http://www.w3.org/2000/xmlns/",G="http://www.w3.org/1999/xhtml",W,C,n,y,b,O,M=function(X){return X.ownerDocument},t=function(Y){var X=[],Z=function(aa,ac){var ad,ab,ae=[];for(ab=0;ab<aa.length;ab++){ad=aa.item(ab);if(false!==J(ad.nodeType,ac)){ae.push(ad)}}return ae};switch(Y.nodeType){case 1:X=Z(Y.childNodes,supportedChildNodeTypes=[1,3,4,7,8]);break;case 9:X=Z(Y.childNodes,supportedChildNodeTypes=[1,7,8]);break;case 2:case 3:case 4:case 7:case 8:case 13:break;default:throw new Error("Internal Error: nodeChildren - unsupported node type: "+Y.nodeType);break}return X},f=function(aa){var Y,Z,X=[];Y=t(aa);for(Z=0;Z<Y.length;Z++){X.push(Y[Z]);X.push.apply(X,f(Y[Z]))}return X},U=function(Y){var X;switch(Y.nodeType){case 1:case 3:case 4:case 7:case 8:case 9:return Y.parentNode;break;case 2:if(Y.ownerElement){return Y.ownerElement}X=L(Y.ownerDocument,true,function(Z,aa){if(aa===Y){return true}});return X;break;case 13:return Y.ownerElement;break;default:throw new Error("Internal Error: nodeParent - node type not supported: "+Y.type);break}},F=function(Z){var Y,X=[];while(Y=U(Z)){X.push(Y);Z=Y}return X},e=function(X){return g(X,"nextSibling")},w=function(X){return g(X,"previousSibling")},g=function(aa,Z){var Y,X=[];while(Y=aa[Z]){switch(Y.nodeType){case 1:case 3:case 4:case 7:case 8:case 9:X.push(Y);break;default:break}aa=Y}return X},u=function(ab){var X=[],Z,aa,ac,Y;Z=F(ab);Z.unshift(ab);for(aa=0;aa<Z.length;aa++){ac=e(Z[aa]);for(Y=0;Y<ac.length;Y++){X.push(ac[Y]);X.push.apply(X,f(ac[Y]))}}return X},h=function(ab){var X=[],Z,aa,ac,Y;Z=F(ab);Z.unshift(ab);for(aa=0;aa<Z.length;aa++){ac=w(Z[aa]);for(Y=0;Y<ac.length;Y++){X.push.apply(X,f(ac[Y]).reverse());X.push(ac[Y])}}return X},M=function(X){switch(X.nodeType){case 9:return X;default:return X.ownerDocument}},d=function(Z){var X=[],Y;if(Z.nodeType===1){for(Y=0;Y<Z.attributes.length;Y++){if(!Z.attributes[Y].specified){continue}X.push(Z.attributes[Y])}}if(X.length>1&&X[0].compareDocumentPosition){X.sort(function(ac,ab){var aa=ac.compareDocumentPosition(ab);if((aa&2)==2){return 1}else{if((aa&4)==4){return -1}else{return 0}}})}return X},v=function(aa){var X=d(aa),Y=[],Z;for(Z=0;Z<X.length;Z++){if(false===B(X[Z])){Y.push(X[Z])}}return Y},E=function(ac,ad){var Y=(ad||[]),X,aa,Z,ab;if(ac.nodeType===1){if(ac.ownerDocument.documentElement===ac&&typeof ac.ownerDocument.namespaces==="object"){for(aa=ac.ownerDocument.namespaces.length-1;aa>=0;aa--){ab=ac.ownerDocument.namespaces.item(aa);S.call(this,Y,ab.name,ab.urn,ac)}}X=d(ac);for(aa=X.length-1;aa>=0;aa--){if(false===(Z=B(X[aa]))){continue}if(Z.length===1){S.call(this,Y,"",X[aa].nodeValue,ac);continue}S.call(this,Y,Z[1],X[aa].nodeValue,ac)}E.call(this,ac.parentNode,Y);if(ad===undefined){S.call(this,Y,"xml",k,ac);if(Y[0]&&Y[0].prefix===""&&Y[0].namespaceURI===""){Y.shift()}}if(ad===undefined){for(aa=0;aa<Y.length;aa++){if(Y[aa].ownerElement!==ac){Y[aa]=T(Y[aa].prefix,Y[aa].nodeValue,ac)}}}}return Y},S=function(ac,ab,aa,Z){var X,Y;if(!this.opts["case-sensitive"]){ab=ab.toLowerCase()}for(X=0;X<ac.length;X++){if(ac[X].prefix===ab){return false}}Y=T(ab,aa,Z);if(ab===""&&aa!==null){ac.unshift(Y)}else{ac.push(Y)}return true},B=function(Y){var X=Y.nodeName.split(":");if(X[0]==="xmlns"){return X}return false},p=function(ab,aa){var ae,ac,ad,Z,af,X,Y;if(ab.nodeType===1){ad=(!aa)?v(ab):[aa];Z=E.call(this,ab);for(ae=0;ae<ad.length;ae++){X=ad[ae].nodeName.split(":");if(X.length===1){X[1]=X[0];X[0]=""}af=null;for(ac=0;ac<Z.length;ac++){if(Z[ac].prefix===X[0]){af=Z[ac].namespaceURI;break}}if(af===null){af=""}if(this.opts["unique-ids"][af]===X[1]){return ad[ae]}}}return null},L=function(Y,ab,ac){var aa,X,ae,Z,ad=[];ae=Y.getElementsByTagName("*");for(aa=0;aa<ae.length;aa++){Z=ae.item(aa);if(Z.nodeType!=1){continue}for(X=0;X<Z.attributes.length;X++){if(!Z.attributes[X].specified){continue}if(ac(Z,Z.attributes[X])===true){if(ab){return Z}else{ad.push(Z);break}}}}if(ab){return null}else{return ad}},m=function(Z){var X,aa,Y,ab;switch(Z.nodeType){case 1:if(typeof Z.scopeName!="undefined"&&!document.addEventListener){ab={prefix:(Z.scopeName=="HTML")?"":Z.scopeName,name:Z.nodeName}}else{X=Z.nodeName.split(":");if(X.length==1){ab={prefix:"",name:X[0]}}else{ab={prefix:X[0],name:X[1]}}}if(!this.opts["case-sensitive"]){ab.prefix=ab.prefix.toLowerCase();ab.name=ab.name.toLowerCase()}aa=E.call(this,Z);for(Y=0;Y<aa.length;Y++){if(aa[Y].prefix===ab.prefix){ab.ns=aa[Y].namespaceURI;return ab}}if(ab.prefix===""){ab.ns=null;return ab}throw new Error('Internal Error: nodeExpandedName - Failed to expand namespace prefix "'+ab.prefix+'" on element: '+Z.nodeName);break;case 2:X=Z.nodeName.split(":");if(X.length==1){return{prefix:"",ns:null,name:X[0]}}ab={prefix:X[0],name:X[1]};if(!this.opts["case-sensitive"]){ab.prefix=ab.prefix.toLowerCase();ab.name=ab.name.toLowerCase()}aa=E.call(this,U(Z));for(Y=0;Y<aa.length;Y++){if(aa[Y].prefix===ab.prefix){ab.ns=aa[Y].namespaceURI;return ab}}throw new Error('Internal Error: nodeExpandedName - Failed to expand namespace prefix "'+ab.prefix+'" on attribute: '+Z.nodeName);break;case 13:return{prefix:null,ns:null,name:((!this.opts["case-sensitive"])?Z.prefix:Z.prefix.toLowerCase())};break;case 7:return{prefix:null,ns:null,name:((!this.opts["case-sensitive"])?Z.target:Z.target.toLowerCase())};break;default:return false;break}},K=function(Z){var Y,X,aa="";switch(Z.nodeType){case 9:case 1:X=j(new P(Z,1,1,{},{},{}),{type:"step",args:["descendant",{type:"nodeType",args:["text",[]]}]});X.sortDocumentOrder();for(Y=0;Y<X.value.length;Y++){aa+=X.value[Y].data}return aa;break;case 2:return Z.nodeValue;break;case 13:return Z.namespaceURI;break;case 7:case 8:case 3:case 4:return Z.data;break;default:throw new Error("Internal Error: nodeStringValue does not support node type: "+Z.nodeType);break}},l=function(aa,X,Z){var Y=new Error(Z);Y.name=X;Y.code=aa;return Y},J=function(Z,Y){var X=Y.length;while(X--){if(Y[X]===Z){return X}}return false},D=function(aa,ad,Y,Z){var ac,ab,ae,X,af;if(aa instanceof b){if(ad instanceof b){X=ad.stringValues();ae=aa.stringValues();for(ac=0;ac<ae.length;ac++){for(ab=0;ab<X.length;ab++){af=D(ae[ac],X[ab],Y,Z);if(af.toBoolean()){return af}}}}else{if(ad instanceof y){ae=aa.stringValues();for(ac=0;ac<ae.length;ac++){af=D(new y(ae[ac].toNumber()),ad,Y,Z);if(af.toBoolean()){return af}}}else{if(ad instanceof n){ae=aa.stringValues();for(ac=0;ac<ae.length;ac++){af=D(ae[ac],ad,Y,Z);if(af.toBoolean()){return af}}}else{return D(new C(aa.toBoolean()),ad,Y,Z)}}}}else{if(ad instanceof b){if(aa instanceof y){X=ad.stringValues();for(ac=0;ac<X.length;ac++){af=D(aa,new y(X[ac].toNumber()),Y,Z);if(af.toBoolean()){return af}}}else{if(aa instanceof n){X=ad.stringValues();for(ac=0;ac<X.length;ac++){af=D(aa,X[ac],Y,Z);if(af.toBoolean()){return af}}}else{return D(aa,new C(ad.toBoolean()),Y,Z)}}}else{switch(Y){case"=":case"!=":if(aa instanceof C||ad instanceof C){return new C(Z(aa.toBoolean(),ad.toBoolean()))}else{if(aa instanceof y||ad instanceof y){return new C(Z(aa.toNumber(),ad.toNumber()))}}return new C(Z(aa.toString(),ad.toString()));break;default:return new C(Z(aa.toNumber(),ad.toNumber()));break}}}return new C(false)},z=function(X){switch(X.nodeType){case 2:case 3:case 4:case 7:case 8:return U(X);break;case 1:case 9:return X;break;case 13:default:throw new Error("Internal Error: getComparableNode - Node type not supported: "+X.nodeType);break}},I=function(Z,Y){var X,aa,ab;if(Z.nodeType==13&&Y.nodeType==13&&Z.ownerElement==Y.ownerElement){if(Z===Y){return 0}aa=E.call(O,Z.ownerElement);for(ab=0;ab<aa.length;ab++){if(aa[ab]===Z){X=4;break}else{if(aa[ab]===Y){X=2;break}}}}else{if(Z.nodeType==13){Z=Z.ownerElement}if(Y.nodeType==13){Y=Y.ownerElement}X=N(Z,Y)}return X},N=function(aa,Z){var Y,ab,X,ac,ad,ae=function(am,af,ak,aj,an,ag,ah,ai,al){if(an===0||(an&ag)===ag){return ai+ag}else{if((an&ah)===ah){return al}else{return an}}};if(aa.compareDocumentPosition){return aa.compareDocumentPosition(Z)}if(aa===Z){return 0}Y=z(aa);ab=z(Z);if(Y.nodeType===9){if(ab.nodeType===9){if(Y!==ab){return 1}else{X=0}}else{if(Y!==ab.ownerDocument){return 1}else{X=4+16}}}else{if(ab.nodeType===9){if(ab!==Y.ownerDocument){return 1}else{X=2+8}}else{if(Y.ownerDocument!==ab.ownerDocument){return 1}else{if(!Y.contains||typeof Y.sourceIndex==="undefined"||!ab.contains||typeof ab.sourceIndex==="undefined"){throw new Error('Cannot compare elements. Neither "compareDocumentPosition" nor "contains" available.')}else{X=(Y!=ab&&Y.contains(ab)&&16)+(Y!=ab&&ab.contains(Y)&&8)+(Y.sourceIndex>=0&&ab.sourceIndex>=0?(Y.sourceIndex<ab.sourceIndex&&4)+(Y.sourceIndex>ab.sourceIndex&&2):1)+0}}}}if(aa===Y&&Z===ab){return X}else{if(aa===Y){return ae(aa,Y,Z,ab,X,16,8,4,2)}else{if(Z===ab){return ae(Z,ab,aa,Y,X,8,16,2,4)}else{if((X&16)===16){return 4}else{if((X&8)===8){return 2}else{if(X===0){for(ac=0;ac<Y.attributes.length;ac++){ad=Y.attributes[ac];if(!ad.specified){continue}if(ad===Z){return 2}else{if(ad===aa){return 4}}}throw new Error("Internal Error: compareDocumentPosition failed to sort attributes.")}else{return X}}}}}}throw new Error("Internal Error: compareDocumentPosition failed to sort nodes.")},c=function(X){if(!X){throw l(9,"NOT_SUPPORTED_ERR","Context node was not supplied.")}else{if(X.nodeType!=9&&X.nodeType!=1&&X.nodeType!=2&&X.nodeType!=3&&X.nodeType!=4&&X.nodeType!=8&&X.nodeType!=7&&X.nodeType!=13){throw l(9,"NOT_SUPPORTED_ERR","The supplied node type is not supported. (nodeType: "+X.nodeType+")")}else{if(X.nodeType==2&&!X.specified){throw l(9,"NOT_SUPPORTED_ERR","The supplied node is a non-specified attribute node. Only specified attribute nodes are supported.")}}}},T=function(ab,aa,Z){var X,Y;for(X=0;X<A.length;X++){Y=A[X];if(Y.prefix===ab&&Y.nodeValue===aa&&Y.ownerElement===Z){return Y}}Y=new R(ab,aa,Z);A.push(Y);return Y};W=function(Z,Y,X){this.value=Z;this.type=Y;this.supports=X};W.prototype={value:null,type:null,supports:[],toBoolean:function(){throw new Error('Unable to convert "'+this.type+'" to "boolean".')},toString:function(){throw new Error('Unable to convert "'+this.type+'" to "string".')},toNumber:function(){throw new Error('Unable to convert "'+this.type+'" to "number".')},toNodeSet:function(){throw new Error('Unable to convert "'+this.type+'" to "node-set".')},canConvertTo:function(X){return false!==J(X,this.supports)}};C=function(X){W.call(this,X,"boolean",["boolean","string","number"])};C.prototype=new W;C.constructor=C;C.prototype.toBoolean=function(){return this.value};C.prototype.toString=function(){return(this.value===true)?"true":"false"};C.prototype.toNumber=function(){return(this.value)?1:0};b=function(Y,X){W.call(this,Y,"node-set",["boolean","string","number","node-set"]);this.docOrder=(X||"unsorted")};b.prototype=new W;b.constructor=b;b.prototype.toBoolean=function(){return(this.value.length>0)?true:false};b.prototype.toString=function(){if(this.value.length<1){return""}this.sortDocumentOrder();return K(this.value[0])};b.prototype.toNumber=function(){return(new n(this.toString())).toNumber()};b.prototype.toNodeSet=function(){return this.value};b.prototype.sortDocumentOrder=function(){switch(this.docOrder){case"document-order":break;case"reverse-document-order":this.value.reverse();break;default:this.value.sort(function(Z,Y){var X=I(Z,Y);if((X&4)==4){return -1}else{if((X&2)==2){return 1}else{throw new Error("NodeSetType.sortDocumentOrder - unexpected compare result: "+X)}}});break}this.docOrder="document-order"};b.prototype.sortReverseDocumentOrder=function(){switch(this.docOrder){case"document-order":this.value.reverse();break;case"reverse-document-order":break;default:this.sortDocumentOrder();this.value.reverse();break}this.docOrder="reverse-document-order"};b.prototype.append=function(Y){var ab,aa=0,Z=0,X;if(!Y instanceof b){throw new Error("NodeSetType can be passed into NodeSetType.append method")}this.sortDocumentOrder();Y.sortDocumentOrder();while(aa<this.value.length&&Z<Y.value.length){X=I(this.value[aa],Y.value[Z]);if(X==0){Z++}else{if((X&4)==4){aa++}else{if((X&2)==2){this.value.splice(aa,0,Y.value[Z]);aa++;Z++}else{throw new Error("Internal Error: NodeSetType.append - unable to sort nodes. (result: "+X+")")}}}}for(;Z<Y.value.length;Z++){this.value.push(Y.value[Z])}this.docOrder="document-order"};b.prototype.stringValues=function(){var Y,X=[];for(Y=0;Y<this.value.length;Y++){X.push(new n(K(this.value[Y])))}return X};n=function(X){W.call(this,X,"string",["boolean","string","number"])};n.prototype=new W;n.constructor=n;n.prototype.toBoolean=function(){return(this.value.length>0)?true:false};n.prototype.toString=function(){return this.value};n.prototype.toNumber=function(){var X;X=this.value.match(/^[ \t\r\n]*(-?[0-9]+(?:[.][0-9]*)?)[ \t\r\n]*$/);if(X!==null){return parseFloat(X[1])}X=this.value.match(/^[ \t\r\n]*(-?[.][0-9]+)[ \t\r\n]*$/);if(X!==null){return parseFloat(X[1])}return Number.NaN};y=function(X){W.call(this,X,"number",["boolean","string","number"])};y.prototype=new W;y.constructor=y;y.prototype.toBoolean=function(){return(this.value!==0&&!isNaN(this.value))?true:false};y.prototype.toString=function(){return this.value.toString()};y.prototype.toNumber=function(){return this.value};s=function(Z,Y){var X;this.code=Z;switch(this.code){case s.INVALID_EXPRESSION_ERR:this.name="INVALID_EXPRESSION_ERR";break;case s.TYPE_ERR:this.name="TYPE_ERR";break;default:X=new Error("Unsupported XPathException code: "+this.code);X.name="XPathExceptionInternalError";throw X;break}this.message=(Y||"")};s.prototype.toString=function(){return'XPathException: "'+this.message+'", code: "'+this.code+'", name: "'+this.name+'"'};s.INVALID_EXPRESSION_ERR=51;s.TYPE_ERR=52;o=function(Y){var Z,X,aa;for(Z in Y){aa=false;for(X in this.opts){if(Z===X){this.opts[Z]=Y[Z];aa=true;break}}if(aa){continue}throw new Error("Unsupported option: "+Z)}this.opts["unique-ids"][k]="id";this.opts["unique-ids"][G]="id"};o.prototype={opts:{"unique-ids":{},"case-sensitive":false},createExpression:function(ae,ad){var X,ab,Z,Y={},ac;try{X=XPathJS._parser.parse(ae)}catch(aa){ab="The expression is not a legal expression.";if(aa instanceof XPathJS._parser.SyntaxError){ab+=" (line: "+aa.line+", character: "+aa.column+")"}else{ab+=" ("+aa.message+")"}throw new s(s.INVALID_EXPRESSION_ERR,ab)}if(X.nsPrefixes.length>0){if(typeof ad!="object"||typeof ad.lookupNamespaceURI==="undefined"){throw new s(s.INVALID_EXPRESSION_ERR,"No namespace resolver provided or lookupNamespaceURI function not supported.")}for(Z=0;Z<X.nsPrefixes.length;Z++){ac=X.nsPrefixes[Z];Y[ac]=ad.lookupNamespaceURI(ac);if(Y[ac]===null){throw l(14,"NAMESPACE_ERR",'Undefined namespace prefix "'+ac+'" in the context of the given resolver.')}}}return new Q(X,Y,this.opts)},createNSResolver:function(X){return new H(X)},evaluate:function(ab,Y,aa,Z,X){var ab=this.createExpression(ab,aa);return ab.evaluate(Y,Z,X)}};Q=function(Y,X,Z){this.parsedExpression=Y;this.namespaceMapping=X;this.opts=Z||{}};Q.prototype={parsedExpression:null,namespaceMapping:null,opts:{},evaluate:function(Y,aa,X){var Z;O=this;c(Y);Z=new P(Y,1,1,{},r,this.namespaceMapping,this.opts);return x.factory(Z,aa,j(Z,this.parsedExpression.tree))}};P=function(ab,X,aa,ad,ac,Z,Y){this.node=ab;this.pos=X;this.size=aa;this.vars=ad;this.fns=ac;this.nsMap=Z;this.opts=Y||{}};P.prototype={node:null,pos:null,size:null,vars:null,fns:null,nsMap:null,opts:null,clone:function(Z,X,Y){return new P(Z||this.node,(typeof X!="undefined")?X:this.pos,(typeof Y!="undefined")?Y:this.size,this.vars,this.fns,this.nsMap,this.opts)}};H=function(X){c(X);this.node=X};H.prototype={node:null,lookupNamespaceURI:function(ab){var aa=this.node,X,Z,Y;switch(ab){case"xml":return k;break;case"xmlns":return q;break;default:switch(this.node.nodeType){case 9:aa=aa.documentElement;break;case 1:break;default:aa=U(aa);break}if(aa!=null&&aa.nodeType==1){if(""==ab){Z=aa.getAttribute("xmlns");if(Z!==null){return Z}}else{if(aa.ownerDocument.documentElement===aa&&typeof aa.ownerDocument.namespaces==="object"){for(X=0;X<aa.ownerDocument.namespaces.length;X++){Z=aa.ownerDocument.namespaces.item(X);if(Z.name==ab){return Z.urn}}}for(X=0;X<aa.attributes.length;X++){if(!aa.attributes[X].specified){continue}if("xmlns:"+ab==aa.attributes[X].nodeName){return aa.attributes[X].nodeValue}}}if(aa.ownerDocument.documentElement!==aa&&aa.parentNode){Y=this.node;this.node=aa.parentNode;Z=this.lookupNamespaceURI(ab);this.node=Y;return Z}}return null;break}}};V={"/":function(ad,ab){var ac,aa,X,Y,Z,ae;if(ad===null){X=new b([M(this.node)],"document-order")}else{X=j(this,ad);if(!X instanceof b){throw new Error("Left side of path separator (/) must be of node-set type. (type: "+X.type+")")}}if(ab===null){Z=X}else{Z=new b([],"document-order");for(aa=0;aa<X.value.length;aa++){ae=this.clone(X.value[aa]);Y=j(ae,ab);if(!Y instanceof b){throw new Error("Right side of path separator (/) must be of node-set type. (type: "+Y.type+")")}Z.append(Y)}}return Z},step:function(ab,ac){var ad,af,aa,X,Z,ae,Y;switch(ab){case"child":ad=new b(t(this.node),"document-order");break;case"descendant":ad=new b(f(this.node),"document-order");break;case"parent":aa=U(this.node);ad=new b((!aa)?[]:[aa],"document-order");break;case"ancestor":ad=new b(F(this.node),"reverse-document-order");break;case"following-sibling":ad=new b(e(this.node),"document-order");break;case"preceding-sibling":ad=new b(w(this.node),"reverse-document-order");break;case"following":ad=new b(u(this.node),"document-order");break;case"preceding":ad=new b(h(this.node),"reverse-document-order");break;case"attribute":ad=new b(v(this.node),"document-order");break;case"namespace":ad=new b(E.call(this,this.node),"document-order");break;case"self":ad=new b([this.node],"document-order");break;case"descendant-or-self":X=f(this.node);X.unshift(this.node);ad=new b(X,"document-order");break;case"ancestor-or-self":X=F(this.node);X.unshift(this.node);ad=new b(X,"reverse-document-order");break;default:throw new Error("Axis type not supported: "+ab);break}switch(ac.type){case"nodeType":if(ac.args[0]=="node"){break}for(af=ad.value.length-1;af>=0;af--){switch(ac.args[0]){case"text":if(ad.value[af].nodeType!=3&&ad.value[af].nodeType!=4){ad.value.splice(af,1)}break;case"comment":if(ad.value[af].nodeType!=8){ad.value.splice(af,1)}break;case"processing-instruction":if(ad.value[af].nodeType!=7||(ac.args[1].length>0&&j(this,ac.args[1][0])!=ad.value[af].nodeName)){ad.value.splice(af,1)}break}}break;case"name":Z=j(this,ac);switch(ab){case"attribute":ae=2;break;case"namespace":ae=13;break;default:ae=1;break}for(af=ad.value.length-1;af>=0;af--){if(ad.value[af].nodeType!=ae){ad.value.splice(af,1);continue}if(Z.ns===null&&Z.name===null){continue}Y=m.call(this,ad.value[af]);if(Y===false||Y.ns!==Z.ns){ad.value.splice(af,1);continue}if(Z.name!==null&&Y.name.toLowerCase()!=Z.name.toLowerCase()){ad.value.splice(af,1)}}break;default:throw new Error("NodeTest type not supported in step: "+ac.type);break}return ad},predicate:function(Y,ae,Z){var ac,ad,af,ab,aa,X;ac=j(this,ae);if(!ac instanceof b){throw new Error('Expected "node-set", got: '+ac.type)}switch(Y){case"ancestor":case"ancestor-or-self":case"preceding":case"preceding-sibling":ac.sortReverseDocumentOrder();break;default:ac.sortDocumentOrder();break}for(ab=0;ab<Z.length;ab++){for(ad=0,aa=1,X=ac.value.length;ad<ac.value.length;aa++){af=j(this.clone(ac.value[ad],aa,X),Z[ab]);if(af instanceof y){if(af.value!=aa){ac.value.splice(ad,1);continue}}else{if(!af.toBoolean()){ac.value.splice(ad,1);continue}}ad++}}return ac},"function":function(X,af){var Z,ag=[],ah=function(ai){return((ai.ns!==null)?"{"+ai.ns+"}":"{}")+ai.name},ae=function(ai){var ak,aj=[],al;for(ak=0;ak<ai.length;ak++){al=(ai[ak].t===undefined)?"object":ai[ak].t;if(ai[ak].r!==false){if(ai[ak].rep===true){al+="+"}}else{if(ai[ak].rep===true){al+="*"}else{al+="?"}}aj.push(al)}return"("+aj.join(", ")+")"},aa,ad,ab=0,ac=[],Y;Z=j(this,X);if(Z.ns===null){Z.ns=""}if(!this.fns[Z.ns]||!this.fns[Z.ns][Z.name]){throw new Error('Function "'+ah(Z)+'" does not exist.')}aa=this.fns[Z.ns][Z.name];if(!aa.args){aa.args=[]}for(ad=0,ab=0;ad<aa.args.length;ab++,ad++){if(af[ab]===undefined){if(aa.args[ad].r!==false){throw new Error('Function "'+ah(Z)+'" expects '+ae(aa.args)+".")}}else{ac.push((aa.args[ad].t===undefined)?"object":aa.args[ad].t)}if(aa.args[ad].rep===true){for(;ab<af.length;ab++){ac.push((aa.args[ad].t===undefined)?"object":aa.args[ad].t)}break}}if(ac.length<af.length){throw new Error('Function "'+ah(Z)+'" expects '+ae(aa.args)+".")}for(ad=0;ad<af.length;ad++){Y=j(this,af[ad]);if(ac[ad]!=="object"&&!Y.canConvertTo(ac[ad])){throw new Error('Function "'+ah(Z)+'" expects '+ae(aa.args)+'.Cannot convert "'+Y.type+'" to "'+ac[ad]+'".')}ag.push(Y)}result=aa.fn.apply(this,ag);if(!result instanceof W){throw new Error('Function "'+ah(Z)+'" did not return a value that inherits from BaseType.')}else{if(aa.ret!=="object"&&!result.canConvertTo(aa.ret)){throw new Error('Function "'+ah(Z)+'" return "'+result.type+'" type that cannot be converted to "'+aa.ret+'".')}}return result},"|":function(Y,X){Y=j(this,Y);X=j(this,X);if(typeof Y=="undefined"||typeof X=="undefined"||!Y instanceof b||!X instanceof b){throw new Error('Unable to perform union on non-"node-set" types.')}Y.append(X);return Y},or:function(Y,X){if(j(this,Y).toBoolean()){return new C(true)}return new C(j(this,X).toBoolean())},and:function(Y,X){if(j(this,Y).toBoolean()){return new C(j(this,X).toBoolean())}return new C(false)},"=":function(Y,X){return D.call(this,j(this,Y),j(this,X),"=",function(aa,Z){return aa==Z})},"!=":function(Y,X){return D.call(this,j(this,Y),j(this,X),"!=",function(aa,Z){return aa!=Z})},"<=":function(Y,X){return D.call(this,j(this,Y),j(this,X),"<=",function(aa,Z){return aa<=Z})},"<":function(Y,X){return D.call(this,j(this,Y),j(this,X),"<",function(aa,Z){return aa<Z})},">=":function(Y,X){return D.call(this,j(this,Y),j(this,X),">=",function(aa,Z){return aa>=Z})},">":function(Y,X){return D.call(this,j(this,Y),j(this,X),">",function(aa,Z){return aa>Z})},"+":function(Y,X){return new y(j(this,Y).toNumber()+j(this,X).toNumber())},"-":function(Y,X){return new y(j(this,Y).toNumber()-j(this,X).toNumber())},div:function(Y,X){return new y(j(this,Y).toNumber()/j(this,X).toNumber())},mod:function(Y,X){return new y(j(this,Y).toNumber()%j(this,X).toNumber())},"*":function(Y,X){return new y(j(this,Y).toNumber()*j(this,X).toNumber())},string:function(X){return new n(X)},number:function(X){return new y(X)},"$":function(X){throw new Error("TODO: Not implemented.16")},name:function(Z,X){var Y=null;if(Z!==null){Y=this.nsMap[Z];if(!Y){throw new Error('Namespace prefix "'+Z+'" is not mapped to a namespace.')}}return{ns:Y,name:X}}};r={"":{last:{fn:function(){return new y(this.size)},ret:"number"},position:{fn:function(){return new y(this.pos)},ret:"number"},count:{fn:function(X){return new y(X.toNodeSet().length)},args:[{t:"node-set"}],ret:"number"},id:{fn:function(ab){var Z=this,X=[],ad,ac,aa,Y=[],af,ae=function(ah){var ag,ai=ah.split(/[\u0020\u0009\u000D\u000A]+/);for(ag=ai.length-1;ag>=0;ag--){if(ai[ag].length==0){ai.splice(ag,1)}}return ai};if(ab instanceof b){for(ad=0;ad<ab.value.length;ad++){X.push.apply(X,ae(K(ab.value[ad])))}}else{ab=ab.toString();X=ae(ab)}for(ad=X.length-1;ad>=0;ad--){for(ac=ad-1;ac>=0;ac--){if(X[ad]==X[ac]&&ad!=ac){X.splice(ad,1);break}}}for(ad=0;ad<X.length;ad++){aa=M(this.node).getElementById(X[ad]);if(aa){if(p.call(this,aa)){Y.push(aa);continue}}L(M(this.node),true,function(ag,ai){var ah=p.call(Z,ag,ai);if(ah&&ah.nodeValue==X[ad]){Y.push(ag);return true}})}return new b(Y)},args:[{}],ret:"node-set"},"local-name":{fn:function(Y){var Z,X="";if(arguments.length==0){Y=new b([this.node])}if(Y.toNodeSet().length>0){Y.sortDocumentOrder();Z=m.call(this,Y.value[0]);if(Z!==false){X=Z.name}}return new n(X)},args:[{t:"node-set",r:false}],ret:"string"},"namespace-uri":{fn:function(X){var Z,Y="";if(arguments.length==0){X=new b([this.node])}if(X.toNodeSet().length>0){X.sortDocumentOrder();Z=m.call(this,X.value[0]);if(Z!==false&&Z.ns!==null){Y=Z.ns}}return new n(Y)},args:[{t:"node-set",r:false}],ret:"string"},name:{fn:function(X){var Z,Y="";if(arguments.length==0){X=new b([this.node])}if(X.toNodeSet().length>0){X.sortDocumentOrder();Z=m.call(this,X.value[0]);if(Z!==false){Y=(Z.prefix&&Z.prefix.length>0)?Z.prefix+":"+Z.name:Z.name}}return new n(Y)},args:[{t:"node-set",r:false}],ret:"string"},string:{fn:function(X){if(arguments.length==0){X=new b([this.node],"document-order")}return new n(X.toString())},args:[{t:"object",r:false}],ret:"string"},concat:{fn:function(aa,Y){var X,Z="";for(X=0;X<arguments.length;X++){Z+=arguments[X].toString()}return new n(Z)},args:[{t:"string"},{t:"string"},{t:"string",r:false,rep:true}],ret:"string"},"starts-with":{fn:function(X,Y){return new C(X.toString().substr(0,(Y=Y.toString()).length)==Y)},args:[{t:"string"},{t:"string"}],ret:"string"},contains:{fn:function(X,Y){return new C(X.toString().indexOf(Y=Y.toString())!=-1)},args:[{t:"string"},{t:"string"}],ret:"string"},"substring-before":{fn:function(X,Y){X=X.toString();Y=X.indexOf(Y.toString());return new n(Y==-1?"":X.substr(0,Y))},args:[{t:"string"},{t:"string"}],ret:"string"},"substring-after":{fn:function(X,Y){var Z;X=X.toString();Y=Y.toString();Z=X.indexOf(Y);return new n(Z==-1?"":X.substr(Z+Y.length))},args:[{t:"string"},{t:"string"}],ret:"string"},substring:{fn:function(Y,Z,X){Y=Y.toString();Z=Math.round(Z.toNumber())-1;return new n(isNaN(Z)?"":((arguments.length==2)?Y.substring(Z<0?0:Z):Y.substring(Z<0?0:Z,Z+Math.round(X.toNumber()))))},args:[{t:"string"},{t:"number"},{t:"number",r:false}],ret:"string"},"string-length":{fn:function(X){X=(arguments.length==0)?K(this.node):X.toString();return new y(X.length)},args:[{t:"string",r:false}],ret:"number"},"normalize-space":{fn:function(X){X=(arguments.length==0)?K(this.node):X.toString();return new n(X.replace(/^[\u0020\u0009\u000D\u000A]+/,"").replace(/[\u0020\u0009\u000D\u000A]+$/,"").replace(/[\u0020\u0009\u000D\u000A]+/g," "))},args:[{t:"string",r:false}],ret:"string"},translate:{fn:function(ad,ac,ab){var Y="",aa,Z,X;ad=ad.toString();ac=ac.toString();ab=ab.toString();for(aa=0;aa<ad.length;aa++){if((Z=ac.indexOf(X=ad.charAt(aa)))==-1||(X=ab.charAt(Z))){Y+=X}}return new n(Y)},args:[{t:"string"},{t:"string"},{t:"string"}],ret:"string"},"boolean":{fn:function(X){return new C(X.toBoolean())},args:[{r:true}],ret:"boolean"},not:{fn:function(X){return new C(!X.toBoolean())},args:[{t:"boolean"}],ret:"boolean"},"true":{fn:function(){return new C(true)},ret:"boolean"},"false":{fn:function(){return new C(false)},ret:"boolean"},lang:{fn:function(ad){var X=this.node,ab,ae,ag,af=ad.toString().toLowerCase().split("-"),Y,ac,aa,Z;for(;X.nodeType!=9;X=U(X)){ab=v(X);for(ac=0;ac<ab.length;ac++){ae=ab[ac].nodeName.split(":");if(ae.length===1){ae[1]=ae[0];ae[0]=""}if(ae[1]=="lang"){ag=ab[ac].nodeValue.toLowerCase().split("-");if(ag.length<af.length){continue}Z=true;for(aa=0;aa<af.length;aa++){if(af[aa]!=ag[aa]){Z=false;break}}if(Z){Y=E.call(this,X);for(aa=0;aa<Y.length;aa++){if(Y[aa].prefix==ae[0]&&Y[aa].nodeValue==k){return new C(true)}}}}}}return new C(false)},args:[{t:"string"}],ret:"boolean"},number:{fn:function(X){if(arguments.length==0){X=new b([this.node],"document-order")}return new y(X.toNumber())},args:[{t:"object",r:false}],ret:"number"},sum:{fn:function(X){var Y,Z=0;X=X.toNodeSet();for(Y=0;Y<X.length;Y++){Z+=(new n(K(X[Y]))).toNumber()}return new y(Z)},args:[{t:"node-set"}],ret:"number"},floor:{fn:function(X){return new y(Math.floor(X))},args:[{t:"number"}],ret:"number"},ceiling:{fn:function(X){return new y(Math.ceil(X))},args:[{t:"number"}],ret:"number"},round:{fn:function(X){return new y(Math.round(X))},args:[{t:"number"}],ret:"number"}}};j=function(Y,X){if(typeof V[X.type]!="function"){throw new Error("Internal Error: Expression type does not exist: "+X.type)}return V[X.type].apply(Y,X.args)};x=function(X,Y,Z){switch(Y){case x.NUMBER_TYPE:this.resultType=x.NUMBER_TYPE;this.numberValue=Z.toNumber();break;case x.STRING_TYPE:this.resultType=x.STRING_TYPE;this.stringValue=Z.toString();break;case x.BOOLEAN_TYPE:this.resultType=x.BOOLEAN_TYPE;this.booleanValue=Z.toBoolean();break;case x.UNORDERED_NODE_ITERATOR_TYPE:case x.ORDERED_NODE_ITERATOR_TYPE:case x.UNORDERED_NODE_SNAPSHOT_TYPE:case x.ORDERED_NODE_SNAPSHOT_TYPE:case x.ANY_UNORDERED_NODE_TYPE:case x.FIRST_ORDERED_NODE_TYPE:if(!Z instanceof b){throw new Error('Expected result of type "node-set", got: "'+Z.type+'"')}this.resultType=Y;switch(Y){case x.UNORDERED_NODE_ITERATOR_TYPE:case x.UNORDERED_NODE_SNAPSHOT_TYPE:this._value=Z.toNodeSet();this.snapshotLength=this._value.length;break;case x.ORDERED_NODE_ITERATOR_TYPE:case x.ORDERED_NODE_SNAPSHOT_TYPE:Z.sortDocumentOrder();this._value=Z.toNodeSet();this.snapshotLength=this._value.length;break;case x.ANY_UNORDERED_NODE_TYPE:Z=Z.toNodeSet();this.singleNodeValue=(Z.length)?Z[0]:null;break;case x.FIRST_ORDERED_NODE_TYPE:Z.sortDocumentOrder();Z=Z.toNodeSet();this.singleNodeValue=(Z.length)?Z[0]:null;break;default:throw new s(s.TYPE_ERR,"XPath result type not supported. (type: "+Y+")");break}break;default:throw new s(s.TYPE_ERR,"XPath result type not supported. (type: "+Y+")");break}};x.factory=function(Y,Z,aa){var X;if(Z!==x.ANY_TYPE){return new x(Y,Z,aa)}if(aa instanceof b){X=new x(Y,x.UNORDERED_NODE_ITERATOR_TYPE,aa)}else{if(aa instanceof y){X=new x(Y,x.NUMBER_TYPE,aa)}else{if(aa instanceof C){X=new x(Y,x.BOOLEAN_TYPE,aa)}else{if(aa instanceof n){X=new x(Y,x.STRING_TYPE,aa)}else{throw new s(s.TYPE_ERR,"Internal Error: Unsupported value type: "+typeof aa)}}}}return X};x.prototype={resultType:null,numberValue:null,stringValue:null,booleanValue:null,singleNodeValue:null,invalidIteratorState:null,snapshotLength:null,_iteratorIndex:0,iterateNext:function(){if(this.resultType!=x.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=x.ORDERED_NODE_ITERATOR_TYPE){throw new s(s.TYPE_ERR,"iterateNext() method may only be used with results of type UNORDERED_NODE_ITERATOR_TYPE or ORDERED_NODE_ITERATOR_TYPE")}if(this._iteratorIndex<this._value.length){return this._value[this._iteratorIndex++]}return null},snapshotItem:function(X){if(this.resultType!=x.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=x.ORDERED_NODE_SNAPSHOT_TYPE){throw new s(s.TYPE_ERR,"snapshotItem() method may only be used with results of type UNORDERED_NODE_SNAPSHOT_TYPE or ORDERED_NODE_SNAPSHOT_TYPE")}return this._value[X]}};x.ANY_TYPE=0;x.NUMBER_TYPE=1;x.STRING_TYPE=2;x.BOOLEAN_TYPE=3;x.UNORDERED_NODE_ITERATOR_TYPE=4;x.ORDERED_NODE_ITERATOR_TYPE=5;x.UNORDERED_NODE_SNAPSHOT_TYPE=6;x.ORDERED_NODE_SNAPSHOT_TYPE=7;x.ANY_UNORDERED_NODE_TYPE=8;x.FIRST_ORDERED_NODE_TYPE=9;R=function(Z,X,Y){if(Y.nodeType!=1){throw new Error("Internal Error: XPathNamespace owner element must be an Element node.")}this.ownerElement=Y;this.ownerDocument=Y.ownerDocument;this.nodeName="#namespace";this.prefix=Z;this.localName=Z;this.nodeType=R.XPATH_NAMESPACE_NODE;this.namespaceURI=X;this.nodeValue=X};R.XPATH_NAMESPACE_NODE=13;a={XPathException:s,XPathEvaluator:o,XPathNSResolver:H,XPathExpression:Q,XPathResult:x,XPathNamespace:R,getCurrentDomLevel3XPathBindings:function(){return{window:{XPathException:window.XPathException,XPathExpression:window.XPathExpression,XPathNSResolver:window.XPathNSResolver,XPathResult:window.XPathResult,XPathNamespace:window.XPathNamespace},document:{createExpression:document.createExpression,createNSResolver:document.createNSResolver,evaluate:document.evaluate}}},createDomLevel3XPathBindings:function(X){var Y=new o(X);return{window:{XPathException:s,XPathExpression:Q,XPathNSResolver:H,XPathResult:x,XPathNamespace:R},document:{createExpression:function(){return Y.createExpression.apply(Y,arguments)},createNSResolver:function(){return Y.createNSResolver.apply(Y,arguments)},evaluate:function(){return Y.evaluate.apply(Y,arguments)}}}},bindDomLevel3XPath:function(aa){var Y=(aa||a.createDomLevel3XPathBindings()),Z=a.getCurrentDomLevel3XPathBindings(),X;for(X in Y.window){window[X]=Y.window[X]}for(X in Y.document){document[X]=Y.document[X]}return Z}};return a})();XPathJS._parser=(function(){function b(c){return'"'+c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var a={parse:function(f,q){var e={XPath:F,LocationPath:o,AbsoluteLocationPath:ag,RelativeLocationPath:D,Step:A,AxisSpecifier:W,AxisName:c,NodeTest:p,Predicate:J,AbbreviatedAbsoluteLocationPath:ak,AbbreviatedStep:R,AbbreviatedAxisSpecifier:ac,Expr:L,PrimaryExpr:K,FunctionCall:ad,UnionExpr:af,PathExpr:x,FilterExpr:r,OrExpr:S,AndExpr:n,EqualityExpr:ai,RelationalExpr:w,AdditiveExpr:k,MultiplicativeExpr:d,UnaryExpr:B,Literal:ap,Number:am,Digits:ah,MultiplyOperator:ae,FunctionName:m,VariableReference:O,NameTest:T,NodeType:ao,S:U,_:P,QName:ab,PrefixedName:z,UnprefixedName:v,NCName:I,NameStartChar:C,NameChar:t,Name:g};if(q!==undefined){if(e[q]===undefined){throw new Error("Invalid rule name: "+b(q)+".")}}else{q="XPath"}var M=0;var Z=0;var h=0;var s=[];function aj(ar,aw,au){var aq=ar;var av=au-ar.length;for(var at=0;at<av;at++){aq=aw+aq}return aq}function E(at){var ar=at.charCodeAt(0);var aq;var au;if(ar<=255){aq="x";au=2}else{aq="u";au=4}return"\\"+aq+aj(ar.toString(16).toUpperCase(),"0",au)}function u(aq){if(M<h){return}if(M>h){h=M;s=[]}s.push(aq)}function F(){var au,ar,aq;var av,at;av=M;at=M;au=P();if(au!==null){ar=L();if(ar!==null){aq=P();if(aq!==null){au=[au,ar,aq]}else{au=null;M=at}}else{au=null;M=at}}else{au=null;M=at}if(au!==null){au=(function(ax,aw){return{tree:aw,nsPrefixes:N}})(av,au[1])}if(au===null){M=av}return au}function o(){var aq;aq=D();if(aq===null){aq=ag()}return aq}function ag(){var av,at,aq;var aw,au,ar;av=ak();if(av===null){aw=M;au=M;if(f.charCodeAt(M)===47){av="/";M++}else{av=null;if(Z===0){u('"/"')}}if(av!==null){ar=M;at=P();if(at!==null){aq=D();if(aq!==null){at=[at,aq]}else{at=null;M=ar}}else{at=null;M=ar}at=at!==null?at:"";if(at!==null){av=[av,at]}else{av=null;M=au}}else{av=null;M=au}if(av!==null){av=(function(ay,ax){return{type:"/",args:[null,(ax)?ax[1]:null]}})(aw,av[1])}if(av===null){M=aw}}return av}function D(){var aw,av,au,at,ar,aq;var az,ay,ax;az=M;ay=M;aw=A();if(aw!==null){av=[];ax=M;au=P();if(au!==null){if(f.substr(M,2)==="//"){at="//";M+=2}else{at=null;if(Z===0){u('"//"')}}if(at===null){if(f.charCodeAt(M)===47){at="/";M++}else{at=null;if(Z===0){u('"/"')}}}if(at!==null){ar=P();if(ar!==null){aq=A();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}while(au!==null){av.push(au);ax=M;au=P();if(au!==null){if(f.substr(M,2)==="//"){at="//";M+=2}else{at=null;if(Z===0){u('"//"')}}if(at===null){if(f.charCodeAt(M)===47){at="/";M++}else{at=null;if(Z===0){u('"/"')}}}if(at!==null){ar=P();if(ar!==null){aq=A();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}if(av!==null){aw=[aw,av]}else{aw=null;M=ay}}else{aw=null;M=ay}if(aw!==null){aw=(function(aD,aB,aC){var aA;for(aA=0;aA<aC.length;aA++){aB=an(aC[aA][1],aB,aC[aA][3])}return aB})(az,aw[0],aw[1])}if(aw===null){M=az}return aw}function A(){var aw,av,au,at,ar,aq;var az,ay,ax;az=M;ay=M;aw=W();if(aw!==null){av=P();if(av!==null){au=p();if(au!==null){at=[];ax=M;ar=P();if(ar!==null){aq=J();if(aq!==null){ar=[ar,aq]}else{ar=null;M=ax}}else{ar=null;M=ax}while(ar!==null){at.push(ar);ax=M;ar=P();if(ar!==null){aq=J();if(aq!==null){ar=[ar,aq]}else{ar=null;M=ax}}else{ar=null;M=ax}}if(at!==null){aw=[aw,av,au,at]}else{aw=null;M=ay}}else{aw=null;M=ay}}else{aw=null;M=ay}}else{aw=null;M=ay}if(aw!==null){aw=(function(aD,aB,aC,aA){return j({type:"step",args:[aB,aC]},aB,aA,1)})(az,aw[0],aw[2],aw[3])}if(aw===null){M=az}if(aw===null){aw=R()}return aw}function W(){var au,ar,aq;var av,at;av=M;at=M;au=c();if(au!==null){ar=P();if(ar!==null){if(f.substr(M,2)==="::"){aq="::";M+=2}else{aq=null;if(Z===0){u('"::"')}}if(aq!==null){au=[au,ar,aq]}else{au=null;M=at}}else{au=null;M=at}}else{au=null;M=at}if(au!==null){au=(function(ax,aw){return aw})(av,au[0])}if(au===null){M=av}if(au===null){av=M;au=ac();if(au!==null){au=(function(ax,aw){return(aw.length)?aw:"child"})(av,au)}if(au===null){M=av}}return au}function c(){var aq;if(f.substr(M,16)==="ancestor-or-self"){aq="ancestor-or-self";M+=16}else{aq=null;if(Z===0){u('"ancestor-or-self"')}}if(aq===null){if(f.substr(M,8)==="ancestor"){aq="ancestor";M+=8}else{aq=null;if(Z===0){u('"ancestor"')}}if(aq===null){if(f.substr(M,9)==="attribute"){aq="attribute";M+=9}else{aq=null;if(Z===0){u('"attribute"')}}if(aq===null){if(f.substr(M,5)==="child"){aq="child";M+=5}else{aq=null;if(Z===0){u('"child"')}}if(aq===null){if(f.substr(M,18)==="descendant-or-self"){aq="descendant-or-self";M+=18}else{aq=null;if(Z===0){u('"descendant-or-self"')}}if(aq===null){if(f.substr(M,10)==="descendant"){aq="descendant";M+=10}else{aq=null;if(Z===0){u('"descendant"')}}if(aq===null){if(f.substr(M,17)==="following-sibling"){aq="following-sibling";M+=17}else{aq=null;if(Z===0){u('"following-sibling"')}}if(aq===null){if(f.substr(M,9)==="following"){aq="following";M+=9}else{aq=null;if(Z===0){u('"following"')}}if(aq===null){if(f.substr(M,9)==="namespace"){aq="namespace";M+=9}else{aq=null;if(Z===0){u('"namespace"')}}if(aq===null){if(f.substr(M,6)==="parent"){aq="parent";M+=6}else{aq=null;if(Z===0){u('"parent"')}}if(aq===null){if(f.substr(M,17)==="preceding-sibling"){aq="preceding-sibling";M+=17}else{aq=null;if(Z===0){u('"preceding-sibling"')}}if(aq===null){if(f.substr(M,9)==="preceding"){aq="preceding";M+=9}else{aq=null;if(Z===0){u('"preceding"')}}if(aq===null){if(f.substr(M,4)==="self"){aq="self";M+=4}else{aq=null;if(Z===0){u('"self"')}}}}}}}}}}}}}}return aq}function p(){var ax,aw,av,au,at,ar,aq;var az,ay;az=M;ay=M;ax=ao();if(ax!==null){aw=P();if(aw!==null){if(f.charCodeAt(M)===40){av="(";M++}else{av=null;if(Z===0){u('"("')}}if(av!==null){au=P();if(au!==null){if(f.charCodeAt(M)===41){at=")";M++}else{at=null;if(Z===0){u('")"')}}if(at!==null){ax=[ax,aw,av,au,at]}else{ax=null;M=ay}}else{ax=null;M=ay}}else{ax=null;M=ay}}else{ax=null;M=ay}}else{ax=null;M=ay}if(ax!==null){ax=(function(aB,aA){return{type:"nodeType",args:[aA,[]]}})(az,ax[0])}if(ax===null){M=az}if(ax===null){az=M;ay=M;if(f.substr(M,22)==="processing-instruction"){ax="processing-instruction";M+=22}else{ax=null;if(Z===0){u('"processing-instruction"')}}if(ax!==null){aw=P();if(aw!==null){if(f.charCodeAt(M)===40){av="(";M++}else{av=null;if(Z===0){u('"("')}}if(av!==null){au=P();if(au!==null){at=ap();if(at!==null){ar=P();if(ar!==null){if(f.charCodeAt(M)===41){aq=")";M++}else{aq=null;if(Z===0){u('")"')}}if(aq!==null){ax=[ax,aw,av,au,at,ar,aq]}else{ax=null;M=ay}}else{ax=null;M=ay}}else{ax=null;M=ay}}else{ax=null;M=ay}}else{ax=null;M=ay}}else{ax=null;M=ay}}else{ax=null;M=ay}if(ax!==null){ax=(function(aC,aB,aA){return{type:"nodeType",args:[aB,[aA]]}})(az,ax[0],ax[4])}if(ax===null){M=az}if(ax===null){az=M;ax=T();if(ax!==null){ax=(function(aB,aA){return aA})(az,ax)}if(ax===null){M=az}}}return ax}function J(){var aw,au,at,ar,aq;var ax,av;ax=M;av=M;if(f.charCodeAt(M)===91){aw="[";M++}else{aw=null;if(Z===0){u('"["')}}if(aw!==null){au=P();if(au!==null){at=L();if(at!==null){ar=P();if(ar!==null){if(f.charCodeAt(M)===93){aq="]";M++}else{aq=null;if(Z===0){u('"]"')}}if(aq!==null){aw=[aw,au,at,ar,aq]}else{aw=null;M=av}}else{aw=null;M=av}}else{aw=null;M=av}}else{aw=null;M=av}}else{aw=null;M=av}if(aw!==null){aw=(function(az,ay){return ay})(ax,aw[2])}if(aw===null){M=ax}return aw}function ak(){var au,ar,aq;var av,at;av=M;at=M;if(f.substr(M,2)==="//"){au="//";M+=2}else{au=null;if(Z===0){u('"//"')}}if(au!==null){ar=P();if(ar!==null){aq=D();if(aq!==null){au=[au,ar,aq]}else{au=null;M=at}}else{au=null;M=at}}else{au=null;M=at}if(au!==null){au=(function(ax,aw){return an("//",null,aw)})(av,au[2])}if(au===null){M=av}return au}function R(){var aq;var ar;ar=M;if(f.substr(M,2)===".."){aq="..";M+=2}else{aq=null;if(Z===0){u('".."')}}if(aq===null){if(f.charCodeAt(M)===46){aq=".";M++}else{aq=null;if(Z===0){u('"."')}}}if(aq!==null){aq=(function(av,au){var at={type:"step",args:["self",{type:"nodeType",args:["node",[]]}]};if(au==".."){at.args[0]="parent"}return at})(ar,aq)}if(aq===null){M=ar}return aq}function ac(){var aq;var ar;ar=M;if(f.charCodeAt(M)===64){aq="@";M++}else{aq=null;if(Z===0){u('"@"')}}aq=aq!==null?aq:"";if(aq!==null){aq=(function(au,at){return(at)?"attribute":""})(ar,aq)}if(aq===null){M=ar}return aq}function L(){var aq;var ar;ar=M;aq=S();if(aq!==null){aq=(function(au,at){return at})(ar,aq)}if(aq===null){M=ar}return aq}function K(){var aw,au,at,ar,aq;var ax,av;ax=M;aw=O();if(aw!==null){aw=(function(az,ay){return ay})(ax,aw)}if(aw===null){M=ax}if(aw===null){ax=M;av=M;if(f.charCodeAt(M)===40){aw="(";M++}else{aw=null;if(Z===0){u('"("')}}if(aw!==null){au=P();if(au!==null){at=L();if(at!==null){ar=P();if(ar!==null){if(f.charCodeAt(M)===41){aq=")";M++}else{aq=null;if(Z===0){u('")"')}}if(aq!==null){aw=[aw,au,at,ar,aq]}else{aw=null;M=av}}else{aw=null;M=av}}else{aw=null;M=av}}else{aw=null;M=av}}else{aw=null;M=av}if(aw!==null){aw=(function(az,ay){return ay})(ax,aw[2])}if(aw===null){M=ax}if(aw===null){ax=M;aw=ap();if(aw!==null){aw=(function(az,ay){return ay})(ax,aw)}if(aw===null){M=ax}if(aw===null){ax=M;aw=am();if(aw!==null){aw=(function(ay,az){return az})(ax,aw)}if(aw===null){M=ax}if(aw===null){aw=ad()}}}}return aw}function ad(){var ay,ax,aw,av,au,at,ar,aq,aE,aD;var aC,aB,aA,az;aC=M;aB=M;ay=m();if(ay!==null){ax=P();if(ax!==null){if(f.charCodeAt(M)===40){aw="(";M++}else{aw=null;if(Z===0){u('"("')}}if(aw!==null){aA=M;av=P();if(av!==null){au=L();if(au!==null){at=[];az=M;ar=P();if(ar!==null){if(f.charCodeAt(M)===44){aq=",";M++}else{aq=null;if(Z===0){u('","')}}if(aq!==null){aE=P();if(aE!==null){aD=L();if(aD!==null){ar=[ar,aq,aE,aD]}else{ar=null;M=az}}else{ar=null;M=az}}else{ar=null;M=az}}else{ar=null;M=az}while(ar!==null){at.push(ar);az=M;ar=P();if(ar!==null){if(f.charCodeAt(M)===44){aq=",";M++}else{aq=null;if(Z===0){u('","')}}if(aq!==null){aE=P();if(aE!==null){aD=L();if(aD!==null){ar=[ar,aq,aE,aD]}else{ar=null;M=az}}else{ar=null;M=az}}else{ar=null;M=az}}else{ar=null;M=az}}if(at!==null){av=[av,au,at]}else{av=null;M=aA}}else{av=null;M=aA}}else{av=null;M=aA}av=av!==null?av:"";if(av!==null){au=P();if(au!==null){if(f.charCodeAt(M)===41){at=")";M++}else{at=null;if(Z===0){u('")"')}}if(at!==null){ay=[ay,ax,aw,av,au,at]}else{ay=null;M=aB}}else{ay=null;M=aB}}else{ay=null;M=aB}}else{ay=null;M=aB}}else{ay=null;M=aB}}else{ay=null;M=aB}if(ay!==null){ay=(function(aJ,aH,aF){var aI,aG=[];if(aF){aG.push(aF[1]);for(aI=0;aI<aF[2].length;aI++){aG.push(aF[2][aI][3])}}return{type:"function",args:[aH,aG]}})(aC,ay[0],ay[3])}if(ay===null){M=aC}return ay}function af(){var aw,av,au,at,ar,aq;var az,ay,ax;az=M;ay=M;aw=x();if(aw!==null){av=[];ax=M;au=P();if(au!==null){if(f.charCodeAt(M)===124){at="|";M++}else{at=null;if(Z===0){u('"|"')}}if(at!==null){ar=P();if(ar!==null){aq=x();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}while(au!==null){av.push(au);ax=M;au=P();if(au!==null){if(f.charCodeAt(M)===124){at="|";M++}else{at=null;if(Z===0){u('"|"')}}if(at!==null){ar=P();if(ar!==null){aq=x();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}if(av!==null){aw=[aw,av]}else{aw=null;M=ay}}else{aw=null;M=ay}if(aw!==null){aw=(function(aC,aA,aB){return al(aA,aB,1,3)})(az,aw[0],aw[1])}if(aw===null){M=az}return aw}function x(){var ax,av,at,ar,aq;var ay,aw,au;ay=M;aw=M;ax=r();if(ax!==null){au=M;av=P();if(av!==null){if(f.substr(M,2)==="//"){at="//";M+=2}else{at=null;if(Z===0){u('"//"')}}if(at===null){if(f.charCodeAt(M)===47){at="/";M++}else{at=null;if(Z===0){u('"/"')}}}if(at!==null){ar=P();if(ar!==null){aq=D();if(aq!==null){av=[av,at,ar,aq]}else{av=null;M=au}}else{av=null;M=au}}else{av=null;M=au}}else{av=null;M=au}av=av!==null?av:"";if(av!==null){ax=[ax,av]}else{ax=null;M=aw}}else{ax=null;M=aw}if(ax!==null){ax=(function(aB,aA,az){if(!az){return aA}return an(az[1],aA,az[3])})(ay,ax[0],ax[1])}if(ax===null){M=ay}if(ax===null){ay=M;ax=o();if(ax!==null){ax=(function(aA,az){return az})(ay,ax)}if(ax===null){M=ay}}return ax}function r(){var aw,au,ar,aq;var ax,av,at;ax=M;av=M;aw=K();if(aw!==null){au=[];at=M;ar=P();if(ar!==null){aq=J();if(aq!==null){ar=[ar,aq]}else{ar=null;M=at}}else{ar=null;M=at}while(ar!==null){au.push(ar);at=M;ar=P();if(ar!==null){aq=J();if(aq!==null){ar=[ar,aq]}else{ar=null;M=at}}else{ar=null;M=at}}if(au!==null){aw=[aw,au]}else{aw=null;M=av}}else{aw=null;M=av}if(aw!==null){aw=(function(aA,ay,az){return j(ay,"child",az,1)})(ax,aw[0],aw[1])}if(aw===null){M=ax}return aw}function S(){var aw,av,au,at,ar,aq;var az,ay,ax;az=M;ay=M;aw=n();if(aw!==null){av=[];ax=M;au=P();if(au!==null){if(f.substr(M,2)==="or"){at="or";M+=2}else{at=null;if(Z===0){u('"or"')}}if(at!==null){ar=P();if(ar!==null){aq=n();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}while(au!==null){av.push(au);ax=M;au=P();if(au!==null){if(f.substr(M,2)==="or"){at="or";M+=2}else{at=null;if(Z===0){u('"or"')}}if(at!==null){ar=P();if(ar!==null){aq=n();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}if(av!==null){aw=[aw,av]}else{aw=null;M=ay}}else{aw=null;M=ay}if(aw!==null){aw=(function(aC,aA,aB){return al(aA,aB,1,3)})(az,aw[0],aw[1])}if(aw===null){M=az}return aw}function n(){var aw,av,au,at,ar,aq;var az,ay,ax;az=M;ay=M;aw=ai();if(aw!==null){av=[];ax=M;au=P();if(au!==null){if(f.substr(M,3)==="and"){at="and";M+=3}else{at=null;if(Z===0){u('"and"')}}if(at!==null){ar=P();if(ar!==null){aq=ai();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}while(au!==null){av.push(au);ax=M;au=P();if(au!==null){if(f.substr(M,3)==="and"){at="and";M+=3}else{at=null;if(Z===0){u('"and"')}}if(at!==null){ar=P();if(ar!==null){aq=ai();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}if(av!==null){aw=[aw,av]}else{aw=null;M=ay}}else{aw=null;M=ay}if(aw!==null){aw=(function(aC,aA,aB){return al(aA,aB,1,3)})(az,aw[0],aw[1])}if(aw===null){M=az}return aw}function ai(){var aw,av,au,at,ar,aq;var az,ay,ax;az=M;ay=M;aw=w();if(aw!==null){av=[];ax=M;au=P();if(au!==null){if(f.charCodeAt(M)===61){at="=";M++}else{at=null;if(Z===0){u('"="')}}if(at===null){if(f.substr(M,2)==="!="){at="!=";M+=2}else{at=null;if(Z===0){u('"!="')}}}if(at!==null){ar=P();if(ar!==null){aq=w();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}while(au!==null){av.push(au);ax=M;au=P();if(au!==null){if(f.charCodeAt(M)===61){at="=";M++}else{at=null;if(Z===0){u('"="')}}if(at===null){if(f.substr(M,2)==="!="){at="!=";M+=2}else{at=null;if(Z===0){u('"!="')}}}if(at!==null){ar=P();if(ar!==null){aq=w();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}if(av!==null){aw=[aw,av]}else{aw=null;M=ay}}else{aw=null;M=ay}if(aw!==null){aw=(function(aC,aA,aB){return al(aA,aB,1,3)})(az,aw[0],aw[1])}if(aw===null){M=az}return aw}function w(){var aw,av,au,at,ar,aq;var az,ay,ax;az=M;ay=M;aw=k();if(aw!==null){av=[];ax=M;au=P();if(au!==null){if(f.substr(M,2)==="<="){at="<=";M+=2}else{at=null;if(Z===0){u('"<="')}}if(at===null){if(f.charCodeAt(M)===60){at="<";M++}else{at=null;if(Z===0){u('"<"')}}if(at===null){if(f.substr(M,2)===">="){at=">=";M+=2}else{at=null;if(Z===0){u('">="')}}if(at===null){if(f.charCodeAt(M)===62){at=">";M++}else{at=null;if(Z===0){u('">"')}}}}}if(at!==null){ar=P();if(ar!==null){aq=k();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}while(au!==null){av.push(au);ax=M;au=P();if(au!==null){if(f.substr(M,2)==="<="){at="<=";M+=2}else{at=null;if(Z===0){u('"<="')}}if(at===null){if(f.charCodeAt(M)===60){at="<";M++}else{at=null;if(Z===0){u('"<"')}}if(at===null){if(f.substr(M,2)===">="){at=">=";M+=2}else{at=null;if(Z===0){u('">="')}}if(at===null){if(f.charCodeAt(M)===62){at=">";M++}else{at=null;if(Z===0){u('">"')}}}}}if(at!==null){ar=P();if(ar!==null){aq=k();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}if(av!==null){aw=[aw,av]}else{aw=null;M=ay}}else{aw=null;M=ay}if(aw!==null){aw=(function(aC,aA,aB){return al(aA,aB,1,3)})(az,aw[0],aw[1])}if(aw===null){M=az}return aw}function k(){var aw,av,au,at,ar,aq;var az,ay,ax;az=M;ay=M;aw=d();if(aw!==null){av=[];ax=M;au=P();if(au!==null){if(f.charCodeAt(M)===43){at="+";M++}else{at=null;if(Z===0){u('"+"')}}if(at===null){if(f.charCodeAt(M)===45){at="-";M++}else{at=null;if(Z===0){u('"-"')}}}if(at!==null){ar=P();if(ar!==null){aq=d();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}while(au!==null){av.push(au);ax=M;au=P();if(au!==null){if(f.charCodeAt(M)===43){at="+";M++}else{at=null;if(Z===0){u('"+"')}}if(at===null){if(f.charCodeAt(M)===45){at="-";M++}else{at=null;if(Z===0){u('"-"')}}}if(at!==null){ar=P();if(ar!==null){aq=d();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}if(av!==null){aw=[aw,av]}else{aw=null;M=ay}}else{aw=null;M=ay}if(aw!==null){aw=(function(aC,aA,aB){return al(aA,aB,1,3)})(az,aw[0],aw[1])}if(aw===null){M=az}return aw}function d(){var aw,av,au,at,ar,aq;var az,ay,ax;az=M;ay=M;aw=B();if(aw!==null){av=[];ax=M;au=P();if(au!==null){at=ae();if(at===null){if(f.substr(M,3)==="div"){at="div";M+=3}else{at=null;if(Z===0){u('"div"')}}if(at===null){if(f.substr(M,3)==="mod"){at="mod";M+=3}else{at=null;if(Z===0){u('"mod"')}}}}if(at!==null){ar=P();if(ar!==null){aq=B();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}while(au!==null){av.push(au);ax=M;au=P();if(au!==null){at=ae();if(at===null){if(f.substr(M,3)==="div"){at="div";M+=3}else{at=null;if(Z===0){u('"div"')}}if(at===null){if(f.substr(M,3)==="mod"){at="mod";M+=3}else{at=null;if(Z===0){u('"mod"')}}}}if(at!==null){ar=P();if(ar!==null){aq=B();if(aq!==null){au=[au,at,ar,aq]}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}else{au=null;M=ax}}if(av!==null){aw=[aw,av]}else{aw=null;M=ay}}else{aw=null;M=ay}if(aw!==null){aw=(function(aC,aA,aB){return al(aA,aB,1,3)})(az,aw[0],aw[1])}if(aw===null){M=az}return aw}function B(){var au,ar,aq;var av,at;av=M;au=af();if(au!==null){au=(function(ax,aw){return aw})(av,au)}if(au===null){M=av}if(au===null){av=M;at=M;if(f.charCodeAt(M)===45){au="-";M++}else{au=null;if(Z===0){u('"-"')}}if(au!==null){ar=P();if(ar!==null){aq=B();if(aq!==null){au=[au,ar,aq]}else{au=null;M=at}}else{au=null;M=at}}else{au=null;M=at}if(au!==null){au=(function(ax,aw){return{type:"*",args:[{type:"number",args:[-1]},aw]}})(av,au[2])}if(au===null){M=av}}return au}function ap(){var au,ar,aq;var av,at;av=M;at=M;if(f.charCodeAt(M)===34){au='"';M++}else{au=null;if(Z===0){u('"\\""')}}if(au!==null){ar=[];if(/^[^"]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u('[^"]')}}while(aq!==null){ar.push(aq);if(/^[^"]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u('[^"]')}}}if(ar!==null){if(f.charCodeAt(M)===34){aq='"';M++}else{aq=null;if(Z===0){u('"\\""')}}if(aq!==null){au=[au,ar,aq]}else{au=null;M=at}}else{au=null;M=at}}else{au=null;M=at}if(au!==null){au=(function(ax,aw){return{type:"string",args:[aw.join("")]}})(av,au[1])}if(au===null){M=av}if(au===null){av=M;at=M;if(f.charCodeAt(M)===39){au="'";M++}else{au=null;if(Z===0){u('"\'"')}}if(au!==null){ar=[];if(/^[^']/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[^']")}}while(aq!==null){ar.push(aq);if(/^[^']/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[^']")}}}if(ar!==null){if(f.charCodeAt(M)===39){aq="'";M++}else{aq=null;if(Z===0){u('"\'"')}}if(aq!==null){au=[au,ar,aq]}else{au=null;M=at}}else{au=null;M=at}}else{au=null;M=at}if(au!==null){au=(function(ax,aw){return{type:"string",args:[aw.join("")]}})(av,au[1])}if(au===null){M=av}}return au}function am(){var av,at,aq;var aw,au,ar;aw=M;au=M;av=ah();if(av!==null){ar=M;if(f.charCodeAt(M)===46){at=".";M++}else{at=null;if(Z===0){u('"."')}}if(at!==null){aq=ah();aq=aq!==null?aq:"";if(aq!==null){at=[at,aq]}else{at=null;M=ar}}else{at=null;M=ar}at=at!==null?at:"";if(at!==null){av=[av,at]}else{av=null;M=au}}else{av=null;M=au}if(av!==null){av=(function(az,ay,ax){return{type:"number",args:[(ax)?parseFloat(ay+"."+ax[1]):parseInt(ay)]}})(aw,av[0],av[1])}if(av===null){M=aw}if(av===null){aw=M;au=M;if(f.charCodeAt(M)===46){av=".";M++}else{av=null;if(Z===0){u('"."')}}if(av!==null){at=ah();if(at!==null){av=[av,at]}else{av=null;M=au}}else{av=null;M=au}if(av!==null){av=(function(ay,ax){return{type:"number",args:[parseFloat("."+ax)]}})(aw,av[1])}if(av===null){M=aw}}return av}function ah(){var ar,aq;var at;at=M;if(/^[0-9]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[0-9]")}}if(aq!==null){ar=[];while(aq!==null){ar.push(aq);if(/^[0-9]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[0-9]")}}}}else{ar=null}if(ar!==null){ar=(function(av,au){return au.join("")})(at,ar)}if(ar===null){M=at}return ar}function ae(){var aq;if(f.charCodeAt(M)===42){aq="*";M++}else{aq=null;if(Z===0){u('"*"')}}return aq}function m(){var at,aq;var au,ar;au=M;ar=M;at=ab();if(at!==null){aq=(function(ax,av){var aw;if(V.args[0]===null){for(aw=0;aw<aa.length;aw++){if(V.args[1]==aa[aw]){return false}}}return true})(M,at)?"":null;if(aq!==null){at=[at,aq]}else{at=null;M=ar}}else{at=null;M=ar}if(at!==null){at=(function(aw,av){(av.args[0]==="")?av={type:av.type,args:[null,av.args[1]]}:X(av.args[0]);return av})(au,at[0])}if(at===null){M=au}return at}function O(){var at,aq;var au,ar;au=M;ar=M;if(f.charCodeAt(M)===36){at="$";M++}else{at=null;if(Z===0){u('"$"')}}if(at!==null){aq=ab();if(aq!==null){at=[at,aq]}else{at=null;M=ar}}else{at=null;M=ar}if(at!==null){at=(function(aw,av){X(av.args[0]);return{type:"$",args:[av]}})(au,at[1])}if(at===null){M=au}return at}function T(){var au,ar,aq;var av,at;av=M;if(f.charCodeAt(M)===42){au="*";M++}else{au=null;if(Z===0){u('"*"')}}if(au!==null){au=(function(aw){return{type:"name",args:[null,null]}})(av)}if(au===null){M=av}if(au===null){av=M;at=M;au=I();if(au!==null){if(f.charCodeAt(M)===58){ar=":";M++}else{ar=null;if(Z===0){u('":"')}}if(ar!==null){if(f.charCodeAt(M)===42){aq="*";M++}else{aq=null;if(Z===0){u('"*"')}}if(aq!==null){au=[au,ar,aq]}else{au=null;M=at}}else{au=null;M=at}}else{au=null;M=at}if(au!==null){au=(function(ax,aw){X(aw);return{type:"name",args:[aw,null]}})(av,au[0])}if(au===null){M=av}if(au===null){av=M;au=ab();if(au!==null){au=(function(ax,aw){X(aw.args[0]);return aw})(av,au)}if(au===null){M=av}}}return au}function ao(){var aq;if(f.substr(M,7)==="comment"){aq="comment";M+=7}else{aq=null;if(Z===0){u('"comment"')}}if(aq===null){if(f.substr(M,4)==="text"){aq="text";M+=4}else{aq=null;if(Z===0){u('"text"')}}if(aq===null){if(f.substr(M,22)==="processing-instruction"){aq="processing-instruction";M+=22}else{aq=null;if(Z===0){u('"processing-instruction"')}}if(aq===null){if(f.substr(M,4)==="node"){aq="node";M+=4}else{aq=null;if(Z===0){u('"node"')}}}}}return aq}function U(){var ar,aq;if(/^[ \t\r\n]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[ \\t\\r\\n]")}}if(aq!==null){ar=[];while(aq!==null){ar.push(aq);if(/^[ \t\r\n]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[ \\t\\r\\n]")}}}}else{ar=null}return ar}function P(){var aq;aq=U();aq=aq!==null?aq:"";return aq}function ab(){var aq;var ar;ar=M;aq=z();if(aq===null){aq=v()}if(aq!==null){aq=(function(au,at){V=at;return at})(ar,aq)}if(aq===null){M=ar}return aq}function z(){var au,ar,aq;var av,at;av=M;at=M;au=I();if(au!==null){if(f.charCodeAt(M)===58){ar=":";M++}else{ar=null;if(Z===0){u('":"')}}if(ar!==null){aq=I();if(aq!==null){au=[au,ar,aq]}else{au=null;M=at}}else{au=null;M=at}}else{au=null;M=at}if(au!==null){au=(function(ay,ax,aw){return{type:"name",args:[ax,aw]}})(av,au[0],au[2])}if(au===null){M=av}return au}function v(){var aq;var ar;ar=M;aq=I();if(aq!==null){aq=(function(au,at){return{type:"name",args:[null,at]}})(ar,aq)}if(aq===null){M=ar}return aq}function I(){var aq;aq=g();return aq}function C(){var aq;if(/^[A-Z]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[A-Z]")}}if(aq===null){if(f.charCodeAt(M)===95){aq="_";M++}else{aq=null;if(Z===0){u('"_"')}}if(aq===null){if(/^[a-z]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[a-z]")}}if(aq===null){if(/^[\xC0-\xD6]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[\\xC0-\\xD6]")}}if(aq===null){if(/^[\xD8-\xF6]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[\\xD8-\\xF6]")}}if(aq===null){if(/^[\xF8-\u02FF]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[\\xF8-\\u02FF]")}}if(aq===null){if(/^[\u0370-\u037D]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[\\u0370-\\u037D]")}}if(aq===null){if(/^[\u037F-\u1FFF]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[\\u037F-\\u1FFF]")}}if(aq===null){if(/^[\u200C-\u200D]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[\\u200C-\\u200D]")}}if(aq===null){if(/^[\u2070-\u218F]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[\\u2070-\\u218F]")}}if(aq===null){if(/^[\u2C00-\u2FEF]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[\\u2C00-\\u2FEF]")}}if(aq===null){if(/^[\u3001-\uD7FF]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[\\u3001-\\uD7FF]")}}if(aq===null){if(/^[\uF900-\uFDCF]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[\\uF900-\\uFDCF]")}}if(aq===null){if(/^[\uFDF0-\uFFFD]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[\\uFDF0-\\uFFFD]")}}}}}}}}}}}}}}}return aq}function t(){var aq;aq=C();if(aq===null){if(f.charCodeAt(M)===45){aq="-";M++}else{aq=null;if(Z===0){u('"-"')}}if(aq===null){if(f.charCodeAt(M)===46){aq=".";M++}else{aq=null;if(Z===0){u('"."')}}if(aq===null){if(/^[0-9]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[0-9]")}}if(aq===null){if(/^[\xB7]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[\\xB7]")}}if(aq===null){if(/^[\u0300-\u036F]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[\\u0300-\\u036F]")}}if(aq===null){if(/^[\u203F-\u2040]/.test(f.charAt(M))){aq=f.charAt(M);M++}else{aq=null;if(Z===0){u("[\\u203F-\\u2040]")}}}}}}}}return aq}function g(){var au,ar,aq;var av,at;av=M;at=M;au=C();if(au!==null){ar=[];aq=t();while(aq!==null){ar.push(aq);aq=t()}if(ar!==null){au=[au,ar]}else{au=null;M=at}}else{au=null;M=at}if(au!==null){au=(function(ay,aw,ax){return aw+ax.join("")})(av,au[0],au[1])}if(au===null){M=av}return au}function G(at){at.sort();var au=null;var ar=[];for(var aq=0;aq<at.length;aq++){if(at[aq]!==au){ar.push(at[aq]);au=at[aq]}}return ar}function H(){var aq=1;var au=1;var av=false;for(var ar=0;ar<Math.max(M,h);ar++){var at=f.charAt(ar);if(at==="\n"){if(!av){aq++}au=1;av=false}else{if(at==="\r"||at==="\u2028"||at==="\u2029"){aq++;au=1;av=true}else{au++;av=false}}}return{line:aq,column:au}}var al=function(ax,av,ar,aw){var au,at,aq={type:"",args:[]};aq.args.push(ax);for(au=0;au<av.length;au++){switch(typeof ar){case"string":aq.type=ar;break;case"object":aq.type=av[au][ar[0]];for(at=1;at<ar.length;at++){aq.type=aq.type[ar[at]]}break;default:aq.type=av[au][ar];break}aq.args.push((typeof aw=="undefined")?av[au]:av[au][aw]);aq={type:"",args:[aq]}}return aq.args[0]},j=function(au,at,aq,av){var ar=[];if(aq.length<1){return au}for(i=0;i<aq.length;i++){ar.push(aq[i][av])}return{type:"predicate",args:[at,au,ar]}},N=[],X=function(ar){var aq,at=false;if(ar===null){return}for(aq=0;aq<N.length;aq++){if(N[aq]===ar){at=true;break}}if(!at){N.push(ar)}},V,aa=["comment","text","processing-instruction","node"],an=function(ar,at,aq){if(ar=="/"){return{type:"/",args:[at,aq]}}return{type:"/",args:[{type:"/",args:[at,{type:"step",args:["descendant-or-self",{type:"nodeType",args:["node",[]]}]}]},aq]}};var y=e[q]();if(y===null||M!==f.length){var Q=Math.max(M,h);var l=Q<f.length?f.charAt(Q):null;var Y=H();throw new this.SyntaxError(G(s),l,Q,Y.line,Y.column)}return y},toSource:function(){return this._source}};a.SyntaxError=function(f,g,h,d,e){function c(l,m){var j,k;switch(l.length){case 0:j="end of input";break;case 1:j=l[0];break;default:j=l.slice(0,l.length-1).join(", ")+" or "+l[l.length-1]}k=m?b(m):"end of input";return"Expected "+j+" but "+k+" found."}this.name="SyntaxError";this.expected=f;this.found=g;this.message=c(f,g);this.offset=h;this.line=d;this.column=e};a.SyntaxError.prototype=Error.prototype;return a})();